(()=>{"use strict";class t{constructor(t,e){this.target=t,this.action=e}resize(){let t,e=window.innerWidth;window.addEventListener("resize",(()=>{t||(t=setTimeout((()=>{e!=window.innerWidth&&(t=0,this.action(),e=window.innerWidth)}),500))}))}}class e{constructor(t){this.target=t}init(){this.target.style.opacity=0}fadeOut(t=100){this.target.classList.remove("u-fadeIn"),this.target.classList.add("u-fadeOut");var e=this.target;setTimeout((function(){e.style.display="none",e.classList.remove("u-fadeOut")}),t)}fadeIn(t=100){this.target.style.display="block";var e=this.target;setTimeout((function(){e.classList.add("u-fadeIn")}),t)}}class s{constructor(t){this.target=t,this.elName=this.target.dataset.slide,this.move=this.target.getElementsByClassName(this.elName+"_move")[0],this.item=this.target.getElementsByClassName(this.elName+"_item"),this.itemLength=this.item.length,this.current=0,this.count=0,this.countMax=this.itemLength-1,this.pointerCount=0,this.moving=!1,this.self=this,this.duration=5e3,this.delay=500,this.autoID=void 0,this.animeEasing="is-moving",this.currentClass="is-current",this.showClass="is-show",this.inactiveClass="is-inactive",this.control=null,this.pointerType="dot",this.loop=!1,this.fade=!1,this.auto=!1,this.shiftSetFade=!1}init(){this.loop&&!this.fade&&this.loopCreateClone(),this.setting(),this.auto&&setTimeout((()=>{this.autoPlay()}),this.duration),new t(this,this.resize).resize()}setting(){if(this.fade){this.target.dataset.type="fade",this.itemWidth=this.target.clientWidth,this.item[this.count].classList.add(this.showClass);for(let t=0;t<this.itemLength;t++)this.moveSize=this.itemWidth*t*-1,this.item[t].style.transform="translateX("+this.moveSize+"px)"}else{this.itemWidth=this.target.clientWidth;const t=this.itemWidth*-this.count;this.moveSizeMax=this.itemWidth*-this.countMax,this.move.style.transform="translateX("+t+"px)",this.currentPosi=t}}loopCreateClone(){const t=this.move.firstElementChild.cloneNode(!0),e=this.move.lastElementChild.cloneNode(!0);this.move.insertBefore(e,this.move.firstChild),this.move.appendChild(t),this.count=1,this.pointerCount=1,this.countMax=this.itemLength}createControlArea(){if(null===this.target.querySelector("."+this.elName+"_control")){const t=document.createElement("div");t.className=this.elName+"_control",this.target.appendChild(t),this.control=this.target.getElementsByClassName(this.elName+"_control")[0]}}createShiftBtn(){this.createControlArea();for(let e=0;e<2;e++){var t=document.createElement("buttom");0===e?(t.className=this.elName+"_shiftBtn _prev",this.control.appendChild(t)):(t.className=this.elName+"_shiftBtn _next",this.control.appendChild(t))}this.shiftBtn=this.target.getElementsByClassName(this.elName+"_shiftBtn"),this.shiftEvent()}shiftEvent(){for(var t=0;t<this.shiftBtn.length;t++)this.shiftBtn[t].addEventListener("click",(t=>{this.moving||(this.moving=!0,t.target.classList.contains("_prev")?this.count--:this.count++,this.currentPlace())}))}shiftBtnToggle(){!this.loop&&this.shiftBtn&&(this.count<=0?this.shiftBtn[0].classList.add(this.inactiveClass):this.shiftBtn[0].classList.remove(this.inactiveClass),this.count>=this.countMax?this.shiftBtn[1].classList.add(this.inactiveClass):this.shiftBtn[1].classList.remove(this.inactiveClass))}createPointer(){this.createControlArea();const t=document.createElement("div"),e=this.elName+"_pointer";t.className=e;for(let e=0;e<this.itemLength;e++){const s=document.createElement("buttom");"num"===this.pointerType?(s.className=this.elName+"_num",s.innerHTML=e+1):s.className=this.elName+"_dot",e==this.current?(s.classList.add(this.currentClass),t.appendChild(s)):t.appendChild(s)}this.control.appendChild(t),this.pointer=this.target.getElementsByClassName(e)[0],this.point=this.pointer.getElementsByTagName("buttom"),this.pointerEvent()}pointerEvent(){for(let t=0;t<this.point.length;t++)this.point[t].addEventListener("click",(t=>{if(!this.moving){this.moving=!0;let e=Array.prototype.indexOf.call(this.point,t.currentTarget);this.count=e+this.pointerCount,this.currentPlace()}}))}currentCheck(){this.fade&&this.loop?(this.count>this.countMax?this.count=0:this.count<0&&(this.count=this.countMax),this.current=this.count):this.loop?(this.current=this.count-1,this.current>=this.countMax?this.current=0:this.current<0&&(this.current=this.countMax-1)):(0>this.count?this.count=0:this.count>=this.countMax&&(this.count=this.countMax),this.current=this.count)}currentPointer(t){if(!this.pointer)return!1;for(let t=0;t<this.point.length;t++)this.point[t].classList.contains(this.currentClass)&&this.point[t].classList.remove(this.currentClass);this.point[t].classList.add(this.currentClass)}currentPlace(){this.currentCheck(),this.shiftBtnToggle(),this.currentPointer(this.current),this.lateralMotion()}flickEvent(){let t=null,e=!1,s=0,i=0,a=0,n=0;const o=window.ontouchstart,r=navigator.maxTouchPoints;t=void 0!==o&&0<r;const h=this.move.querySelectorAll("a"),l=this;function c(t){t.preventDefault()}function d(i){clearTimeout(l.autoID),t||(i.preventDefault(),h.forEach((t=>{t.addEventListener("click",c,!1)}))),s=t?i.touches[0].pageX:i.pageX,e=!0}function u(o){!0===e&&(i=t?o.touches[0].pageX:o.pageX,a=Math.round(s-i),n=l.currentPosi-a,l.move.style.transform="translateX("+n+"px)")}function m(){e&&(document.onmouseup=()=>{l.move.style.transform="translateX("+l.currentPosi+"px)"},e=!1)}function g(){e&&(e=!1,t||0!==Math.abs(a)?Math.abs(a)>0&&50>Math.abs(a)?(l.move.style.transform="translateX("+l.currentPosi+"px)",l.move.classList.remove(l.animeEasing)):Math.abs(a)>=50&&(0<i-s?(l.count--,l.currentPlace()):(l.count++,l.currentPlace())):h.forEach((t=>{t.removeEventListener("click",c,!1)})),a=0)}window.addEventListener("load",(()=>{t?(this.move.addEventListener("touchstart",d),this.move.addEventListener("touchmove",u),this.move.addEventListener("touchend",g)):(this.move.addEventListener("mousedown",d),this.move.addEventListener("mousemove",u),this.move.addEventListener("mouseout",m),this.move.addEventListener("mouseup",g))}))}lateralMotion(){this.auto&&clearTimeout(this.autoID),this.move.classList.add(this.animeEasing);let t=this.itemWidth*this.count*-1;this.move.style.transform="translateX("+t+"px)",this.currentPosi=t,setTimeout((()=>{if(this.move.classList.remove(this.animeEasing),this.loop)if(this.count>=this.countMax+1){let t=-1*this.itemWidth;this.count=1,this.move.style.transform="translateX("+t+"px)",this.currentPosi=t}else this.count<=0&&(this.count=this.countMax,this.move.style.transform="translateX("+this.moveSizeMax+"px)",this.currentPosi=this.moveSizeMax);this.moving=!1,this.auto&&this.autoPlay()}),this.delay)}fadeMotion(){this.auto&&clearTimeout(this.autoID);for(var t=0;t<=this.countMax;t++)this.item[t].classList.contains(this.showClass)&&this.item[t].classList.remove(this.showClass);this.item[this.count].classList.add(this.showClass),setTimeout((()=>{this.moving=!1,this.auto&&this.autoPlay()}),this.delay)}autoPlay(){this.autoID=setTimeout((()=>{this.count++,this.currentPlace()}),this.duration)}resize(){this.target.setting()}}class i extends s{constructor(t){super(t)}init(){super.init(),super.createShiftBtn(),super.createPointer(),super.flickEvent(),super.currentPlace()}}class a extends s{constructor(t){super(t),this.loop=!0,this.auto=!0}init(){super.init(),super.createShiftBtn(),super.createPointer(),super.flickEvent()}}class n extends s{constructor(t){super(t),this.fade=!0,this.loop=!0,this.auto=!0,this.duration=6e3}init(){super.init(),super.createPointer()}currentPlace(){this.currentCheck(),this.currentPointer(this.current),this.fadeMotion()}}class o{constructor(t){this.stage=t,this.trigger=this.stage.querySelectorAll("[data-tabid]"),this.target=this.stage.querySelectorAll('[data-tab="body"]'),this.activeClass="is-active"}init(){for(let t=0;t<this.trigger.length;t++)this.trigger[t].addEventListener("click",(t=>{let e=t.currentTarget,s=document.getElementById(e.dataset.tabid);for(let t=0;t<this.trigger.length;t++)this.trigger[t].classList.remove(this.activeClass),this.target[t].classList.remove(this.activeClass);e.classList.add(this.activeClass),null!==s&&s.classList.add(this.activeClass)}))}}class r{constructor(){this.trigger=document.querySelectorAll('[data-trigger="modal"]'),this.activeClass="is-active",this.fixedClass="is-fixed",this.largeClass="is-lgSize",this.open=!1,this.large=!1}init(){this.createOverlay(),this.triggerEvent()}createOverlay(){document.body.insertAdjacentHTML("beforeend",'<div id="modalWindow" class="st-modalOverlay" data-modal="close"></div>'),this.modalOverlay=document.getElementById("modalWindow"),this.close=document.querySelectorAll("[data-modal]"),this.layerFade=new e(this.modalOverlay)}triggerEvent(){for(let t=0;t<this.trigger.length;t++)this.trigger[t].addEventListener("click",(t=>{let e=t.target.getAttribute("aria-controls");this.targetPanelId=document.getElementById(e),this.scrollY=window.pageYOffset,this.modalOpen(),t.preventDefault()}));for(let t=0;t<this.close.length;t++)this.close[t].addEventListener("click",(t=>{this.modalClose(),t.preventDefault()}))}adjustScreen(t){const e=window.innerWidth-document.body.clientWidth;t?document.body.style.paddingRight=`${e}px`:document.body.style=""}adjustSize(){this.large?(this.targetPanelId.classList.remove(this.largeClass),this.large=!1):this.targetPanelId.clientHeight>=document.documentElement.clientHeight&&(this.targetPanelId.classList.add(this.largeClass),this.large=!0)}modalOpen(){this.effect(),document.documentElement.style.top=`-${this.scrollY}px`,this.adjustScreen(!0),this.targetPanelId.classList.add(this.activeClass),this.adjustSize(),document.getElementsByTagName("html")[0].classList.add(this.fixedClass)}modalClose(){this.targetPanelId.classList.remove(this.activeClass),this.effect(),this.adjustScreen(!1),document.getElementsByTagName("html")[0].classList.remove(this.fixedClass),document.documentElement.style.top="",this.scrollY&&window.scrollTo(0,this.scrollY),this.adjustSize()}effect(){this.open?(this.layerFade.fadeOut(),this.open=!1):(this.layerFade.fadeIn(),this.open=!0)}}class h{constructor(t){this.stage=t,this.targets=Array.from(this.stage.querySelectorAll(".u-appear")),this.showClass="is-show"}init(){const t=new IntersectionObserver(this.callback.bind(this),{root:null,rootMargin:"-30% 0px",threshold:0});this.targets.forEach((function(e){t.observe(e)}))}callback(t,e){t.forEach(function(t){if(!t.isIntersecting)return;const s=t.target;s.classList.add(this.showClass),e.unobserve(s)}.bind(this))}}class l{constructor(t){this.stage=t,this.targets=this.stage.querySelectorAll("details"),this.triggers=this.stage.querySelectorAll("summary"),this.activeElm=null,this.activeClass="is-active"}setting(){this.targets.forEach((t=>{t.open&&t.classList.add(this.activeClass)}))}oneEach(){this.targets.forEach(function(t){t.addEventListener("toggle",(t=>{t.target.open?(null!==this.activeElm&&(this.activeElm.open=!1),this.activeElm=t.target):this.activeElm===t.target&&(this.activeElm=null)}))}.bind(this))}folding(){this.setting();for(let t=0;t<this.triggers.length;t++)this.triggers[t].addEventListener("click",(t=>{let e=t.target.parentNode;e.open?(t.preventDefault(),e.classList.remove(this.activeClass),setTimeout((()=>{e.open=!1}),150)):setTimeout((()=>{e.classList.add(this.activeClass)}),150)}))}oneEachFolding(){this.setting();for(let t=0;t<this.triggers.length;t++)this.triggers[t].addEventListener("click",(t=>{let e=t.target.parentNode;e.open?(t.preventDefault(),e.classList.remove(this.activeClass),setTimeout((()=>{e.open=!1}),150)):(this.targets.forEach((t=>{t.open&&(t.classList.remove(this.activeClass),setTimeout((()=>{t.open=!1}),150))})),setTimeout((()=>{e.classList.add(this.activeClass)}),50))}))}}class c{constructor(t){this.data=t}async init(){const t=await fetch(this.data);return await t.json()}}class d extends c{constructor(t){super(t),this.tax=10}async init(){this.createSlideItem(await super.init())}createSlideItem(t){const e=document.getElementById("apiSlideItems"),s=parseInt(e.dataset.separate),i=this;this.arr=[],t.shift(),e.innerHTML="";for(let e=0;e<Math.ceil(t.length/s);e++){let a=e*s,n=t.slice(a,a+s);i.arr.push(n)}for(let t=0;t<this.arr.length;t++){let s=document.createElement("ul");s.className="m-carousel_item productList";for(let i=0;i<this.arr[t].length;i++){let a=document.createElement("li"),n=document.createElement("figure"),o=document.createElement("div"),r=document.createElement("p"),h=document.createElement("p");a.className="product",n.className="product_img",o.className="product_detail",r.className="product_name",h.className="product_price",n.innerHTML='<img src="/assets/images/'+this.arr[t][i].img+'" alt="">',r.textContent=this.arr[t][i].name,h.innerHTML=this.priceAddTax(this.arr[t][i].price)+"<span>（税込）</span>",o.appendChild(r),o.appendChild(h),a.appendChild(n),a.appendChild(o),s.appendChild(a),e.appendChild(s)}}const a=document.getElementById("apiLateralMotion");new u(a).init()}priceAddTax(t){return this.addComma(Math.round(t+t*this.tax/100))}addComma(t){return"¥"+t.toLocaleString()}}class u extends s{constructor(t){super(t),this.pointerType="num"}init(){super.init(),super.createShiftBtn(),super.createPointer(),super.flickEvent(),super.currentPlace()}}!function(){const t=document.getElementById("lateralMotion"),e=document.getElementById("loopLateralMotion"),s=document.getElementById("CrossFadeShow");new i(t).init(),new a(e).init(),new n(s).init();const c=document.getElementById("tabContents");new o(c).init(),(new r).init();const u=document.getElementById("toggleContents1");new l(u).oneEach();const m=document.getElementById("toggleContents2");new l(m).folding();const g=document.getElementById("toggleContents3");new l(g).oneEachFolding();const p=document.getElementById("scrollAnimation");new h(p).init(),new d("/api/product_data.json").init()}()})();